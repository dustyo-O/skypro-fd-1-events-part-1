<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .outer-square {
            display: flex;
            justify-content: center;
            align-items: center;

            width: 200px;
            height: 200px;

            background-color: cadetblue;
        }

        .inner-square {
            width: 100px;
            height: 100px;

            background-color: goldenrod;
        }

        .dragged {
            position: absolute;
        }

        .spot-field__spot {
            position: absolute;

            width: 3px;
            height: 3px;

            border-radius: 50%;
            background-color: red;
        }

        .upload {
            display: flex;
            justify-content: center;
            align-items: center;

            padding: 20px;

            border: 3px lightskyblue dashed;
            border-radius: 8px;
            background-color: blanchedalmond;
        }

        .upload__control {
            position: absolute;
            top: -10000px;
            left: -10000px;
        }
    </style>
</head>
<body>
    <main class="spot-field">
        <div class="spot-field__spot"></div>
        <a href="https://sky.pro" class="link dropdown">Я тренировочная ссылка</a>
        <button class="button">Кнопка покраска</button>
        <div class="upload"><input class="upload__control" type="file">Загрузить!</div>
        <div class="outer-square">
            <div class="inner-square">

            </div>
        </div>

    </main>
    <script>
        const innerSquare = document.querySelector('.inner-square');
        const outerSquare = document.querySelector('.outer-square');

        outerSquare.onmouseover = function() {
            console.log('outer-square mouseover');
        }

        outerSquare.onmouseout = function() {
            console.log('outer-square mouseout');
        }

        outerSquare.onmouseenter = function() {
            console.log('outer-square mouseenter');
        }

        outerSquare.onmouseleave = function() {
            console.log('outer-square mouseleave');
        }

        outerSquare.onmousemove = function() {
            console.log('WTF MOUSEMOVE???!?');
        }

        const spotField = document.querySelector('.spot-field');
        const spot = spotField.querySelector('.spot-field__spot');

        // spotField.onmousemove = function(event) {
        //     spot.style.top = event.layerY + 'px';
        //     spot.style.left = event.layerX + 'px';
        // }

        function innerSquareDragHandler(event) {
            innerSquare.style.top = event.clientY - 20 + 'px';
            innerSquare.style.left = event.clientX - 20 + 'px';
        }

        innerSquare.onmousedown = function(event) {
            if (event.button === 0) {
                innerSquare.classList.add('dragged');

                spotField.onmousemove = innerSquareDragHandler;
            }
        }

        innerSquare.onmouseup = function(event) {
            if (event.button === 0) {
                spotField.onmousemove = undefined;
            }
        }
    </script>
</body>
</html>
